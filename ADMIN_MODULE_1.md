# Модуль 1: Управление Новостями и Постами

## Статус: Реализовано

### Реализованные компоненты

#### 1. API Сервис (`/src/api/posts.ts`)
CRUD операции для постов:
- `getAll()` - получение всех постов с пагинацией
- `getBySlug()` - получение поста по slug
- `create()` - создание нового поста
- `update()` - обновление существующего поста
- `delete()` - удаление поста
- `getAuthors()` - получение списка авторов

#### 2. Компонент списка постов (`/src/components/admin/PostsList.tsx`)
Таблица со всеми постами:
- Колонки: Заголовок, Автор, Дата публикации, Тип поста, Просмотры
- Кнопки действий: Редактировать, Удалить
- Кнопка "Создать новый пост"
- Автоматическая перезагрузка при изменениях

#### 3. Форма создания/редактирования (`/src/components/admin/PostForm.tsx`)
Модальное окно с полями:
- Заголовок (обязательное)
- Краткое описание (обязательное)
- Основной текст (обязательное)
- Автор (выбор из списка)
- Тип поста (Новости, Достижения, Образование, Событие)
- Дата публикации (Date Picker)
- URL изображения

#### 4. Диалог удаления (`/src/components/admin/DeletePostDialog.tsx`)
Модальное окно подтверждения удаления:
- Показывает название удаляемого поста
- Предупреждение о необратимости действия
- Кнопки: Отмена / Удалить

#### 5. Интеграция в админ-панель (`/src/pages/AdminPanel.tsx`)
- Проверка авторизации
- Отображение формы входа для неавторизованных
- Отображение списка постов для авторизованных
- Управление состоянием всех диалогов

### Использование

1. Перейдите на `/admin`
2. Войдите, используя фамилию и пароль
3. После входа откроется список всех постов
4. Используйте кнопки для создания, редактирования и удаления постов

### API Endpoints

Все запросы отправляются на `http://185.13.47.146:50123/content/news`

Защищенные endpoints требуют заголовок:
```
X-Authorization: <token>
```

### Особенности реализации

1. **Авторизация**: Токен хранится в localStorage и автоматически добавляется ко всем запросам
2. **Обработка ошибок**: Все ошибки отображаются через toast уведомления
3. **Валидация**: Проверка обязательных полей перед отправкой
4. **Форматирование дат**: Русская локализация через date-fns
5. **Типизация**: Полная типизация TypeScript для всех данных

### Что можно улучшить

1. **Rich Text редактор**: Сейчас используется обычный textarea. Можно интегрировать TinyMCE или Quill.js
2. **Загрузка изображений**: Добавить file uploader вместо ввода URL
3. **Предпросмотр**: Показывать превью поста перед публикацией
4. **Фильтрация**: Добавить фильтры по типу поста, автору, дате
5. **Поиск**: Добавить поиск по заголовку
6. **Пагинация**: В таблице сейчас показываются все посты (limit 100)

### Технологический стек

- React 18 + TypeScript
- Shadcn/ui компоненты
- date-fns для работы с датами
- Fetch API для HTTP запросов
- React Hooks для управления состоянием
